<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Beware of chatty errors | The REST API cookbook</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="How error messages can lead to security issues ?">
    
    <link rel="preload" href="/cookbook/assets/css/0.styles.61efb392.css" as="style"><link rel="preload" href="/cookbook/assets/js/app.5e792f52.js" as="script"><link rel="preload" href="/cookbook/assets/js/3.9f6d8892.js" as="script"><link rel="preload" href="/cookbook/assets/js/1.58ef23db.js" as="script"><link rel="preload" href="/cookbook/assets/js/16.355f33df.js" as="script"><link rel="prefetch" href="/cookbook/assets/js/10.23a6cb12.js"><link rel="prefetch" href="/cookbook/assets/js/11.9041e3c5.js"><link rel="prefetch" href="/cookbook/assets/js/12.52c41b56.js"><link rel="prefetch" href="/cookbook/assets/js/13.9bf64610.js"><link rel="prefetch" href="/cookbook/assets/js/14.45cb85e4.js"><link rel="prefetch" href="/cookbook/assets/js/15.6171fe55.js"><link rel="prefetch" href="/cookbook/assets/js/17.9de16ccb.js"><link rel="prefetch" href="/cookbook/assets/js/18.2d5ad787.js"><link rel="prefetch" href="/cookbook/assets/js/19.1e25c1bb.js"><link rel="prefetch" href="/cookbook/assets/js/20.233ff95d.js"><link rel="prefetch" href="/cookbook/assets/js/21.3176fa0b.js"><link rel="prefetch" href="/cookbook/assets/js/22.b56a20e8.js"><link rel="prefetch" href="/cookbook/assets/js/23.2e3d0a13.js"><link rel="prefetch" href="/cookbook/assets/js/4.f8125ee1.js"><link rel="prefetch" href="/cookbook/assets/js/5.4113af5c.js"><link rel="prefetch" href="/cookbook/assets/js/6.b29b864a.js"><link rel="prefetch" href="/cookbook/assets/js/7.6dafa1e9.js"><link rel="prefetch" href="/cookbook/assets/js/8.1b37a035.js"><link rel="prefetch" href="/cookbook/assets/js/9.2139fb15.js">
    <link rel="stylesheet" href="/cookbook/assets/css/0.styles.61efb392.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/cookbook/" class="home-link router-link-active"><!----> <span class="site-name">The REST API cookbook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="beware-of-chatty-errors"><a href="#beware-of-chatty-errors" class="header-anchor">#</a> Beware of chatty errors</h1> <h2 id="use-case"><a href="#use-case" class="header-anchor">#</a> Use-case</h2> <p>Understandable error messages are an important part of web application development, However revealing too many details can allow attackers to uncover vulnerabilities that can be used to exploit system flaws. We should properly handle our error messages and ensure we don't expose sensitive data.</p> <p>When a user tries to access a resource that does not exist, the first step is to provide a proper status code, <code>404 not found</code> in this case. Additionally, you may need to provide more information in the response body, but be careful about the details you add to your error message !</p> <p>Let's take the following examples :</p> <p><code>GET /orders/21100512345</code>
=&gt; 404 &quot;The order 21100512345 was not found&quot;</p> <p><code>GET /orders/21100534871</code>
=&gt; 403 &quot;The order 21100534871 is forbidden&quot;</p> <p>In these examples, you are exposing a sensitive data like (order id) and you need to be aware that such information can possibly be used by an attacker if he finds another security flaw elsewhere.</p> <p>Also, when accessing a resource that a user is not authorized for, using <code>403 access denied</code>, will confirm that this id exists, but it is forbidden for that user. This also could provide hackers clues on potential flaws.</p> <h2 id="recipe"><a href="#recipe" class="header-anchor">#</a> Recipe</h2> <p>As a solution, when you deal with errors, we suggest you to limit your error message to a general description without mentioning IDs or any specific detail that can be used by attackers.</p> <p>Also, it is preferred to return <code>404 not found =&gt; id does not exist</code>, than <code>403 forbidden =&gt; id exists but not allowed</code>, because such information should only be exposed to those who have access to the resource and the others are not supposed to know that it even exists.</p> <p>If you need to give more details to allow the client to understand the broad nature of the error that occurred, you can add these information in log files, it is more safe that way!</p> <h2 id="conclusion"><a href="#conclusion" class="header-anchor">#</a> Conclusion</h2> <p>We recommend you to avoid revealing sensitives details while handling error messages like (IDs, software version, access path) or unhandled exceptions because all these inconsistencies reveal important clues on how a site works, and what information is present under the covers.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/cookbook/assets/js/app.5e792f52.js" defer></script><script src="/cookbook/assets/js/3.9f6d8892.js" defer></script><script src="/cookbook/assets/js/1.58ef23db.js" defer></script><script src="/cookbook/assets/js/16.355f33df.js" defer></script>
  </body>
</html>
